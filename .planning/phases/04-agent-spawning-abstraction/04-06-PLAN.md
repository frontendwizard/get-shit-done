---
phase: 04-agent-spawning-abstraction
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - commands/gsd/help.md
  - docs/PLATFORM-SUPPORT.md
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Users know which commands work on which platforms"
    - "Platform limitations are clearly documented"
    - "Help command shows platform compatibility"
  artifacts:
    - path: "docs/PLATFORM-SUPPORT.md"
      provides: "Platform compatibility matrix"
      min_lines: 50
    - path: "commands/gsd/help.md"
      provides: "Updated help with platform notes"
      contains: "Platform Compatibility"
  key_links:
    - from: "help.md"
      to: "PLATFORM-SUPPORT.md"
      via: "reference"
      pattern: "PLATFORM-SUPPORT"
---

<objective>
Document platform compatibility matrix and update help command

Purpose: Users need to know which GSD commands work on which platforms before running them. This closes the gap by documenting the current reality rather than pretending both platforms have identical capabilities.

Output: Platform support documentation and updated help command with compatibility notes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-agent-spawning-abstraction/04-VERIFICATION.md

# Commands using Task()
commands/gsd/new-project.md (7 Task calls - researcher agents + synthesizer + roadmapper)
commands/gsd/execute-phase.md (3 Task calls - parallel plan executors)
commands/gsd/plan-phase.md (4 Task calls - researcher + planner + checker + revision)
commands/gsd/new-milestone.md (6 Task calls - researcher agents)
commands/gsd/research-phase.md (2 Task calls - phase researcher)
commands/gsd/audit-milestone.md (1 Task call - auditor)
commands/gsd/debug.md (2 Task calls - debugger)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Platform Support Documentation</name>
  <files>docs/PLATFORM-SUPPORT.md</files>
  <action>
Create comprehensive platform support documentation at docs/PLATFORM-SUPPORT.md:

1. Overview section explaining GSD's multi-platform approach
2. Platform Capabilities table:
   | Feature | Claude Code | OpenCode |
   |---------|-------------|----------|
   | Command Registration | Yes | Yes |
   | Hook Registration | Yes | No (Phase 5) |
   | StatusLine | Yes | No |
   | Multi-Agent Spawning | Yes (Task tool) | Infrastructure only |
   | Configuration Management | Yes | Yes |

3. Command Compatibility Matrix:
   - Full Support (both platforms): help, status, progress, add-todo, check-todos, add-phase, insert-phase, remove-phase, discuss-phase, pause-work, resume-work, update, whats-new, list-phase-assumptions, map-codebase
   - Claude Code Only (requires Task tool): new-project, new-milestone, plan-phase, execute-phase, research-phase, audit-milestone, debug, complete-milestone, verify-work, plan-milestone-gaps

4. Explain WHY Task()-using commands are Claude Code only:
   - Task() is a Claude Code platform feature for spawning subagents
   - OpenCode has different agent invocation mechanism (not via markdown)
   - TypeScript infrastructure exists but workflows use declarative Task() syntax
   - Future: Either OpenCode adds Task() equivalent OR workflows get rewritten

5. Note that 15 of 24 commands (62.5%) work on both platforms
6. Recommend using Claude Code for full GSD feature set
  </action>
  <verify>
File exists at docs/PLATFORM-SUPPORT.md
Contains "Platform Capabilities" heading
Contains "Command Compatibility" heading
Lists all 24 commands with their platform support status
  </verify>
  <done>
Platform support documentation clearly explains which commands work on which platforms and why.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update Help Command with Platform Notes</name>
  <files>commands/gsd/help.md</files>
  <action>
Update the help command to include platform compatibility information:

1. Add a "Platform Compatibility" section after the command list
2. Include a brief note: "Commands marked with (*) require Claude Code's Task tool for multi-agent functionality. On OpenCode, these commands will not spawn parallel agents."
3. Mark Task()-dependent commands in the command list with (*)
4. Add reference to docs/PLATFORM-SUPPORT.md for full details
5. Keep the help output concise - just add markers and a brief note

Commands to mark with (*):
- new-project
- new-milestone
- plan-phase
- execute-phase
- research-phase
- audit-milestone
- debug
- complete-milestone
- verify-work
- plan-milestone-gaps
  </action>
  <verify>
Read commands/gsd/help.md
Contains "Platform Compatibility" section
Contains (*) markers on Task()-dependent commands
Contains reference to PLATFORM-SUPPORT.md
  </verify>
  <done>
Help command shows platform compatibility and users can see at a glance which commands are Claude Code-specific.
  </done>
</task>

</tasks>

<verification>
- docs/PLATFORM-SUPPORT.md exists with complete compatibility matrix
- commands/gsd/help.md updated with platform compatibility section
- All 24 commands categorized by platform support
- Clear explanation of WHY some commands are Claude Code only
</verification>

<success_criteria>
1. Platform support documentation provides clear compatibility matrix
2. Help command shows platform compatibility markers
3. Users can determine platform requirements before running commands
4. Documentation explains Task() limitation and future direction
</success_criteria>

<output>
After completion, create `.planning/phases/04-agent-spawning-abstraction/04-06-SUMMARY.md`
</output>
