---
phase: 02-claude-code-adapter-backward-compatibility
plan: 03
type: execute
wave: 3
depends_on: [02-02]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Installation completes without errors"
    - "settings.json contains GSD hooks"
    - "Commands work identically to v1.x"
  artifacts:
    - path: "~/.claude/settings.json"
      provides: "Settings with hooks registered by adapter"
      contains: "gsd-check-update"
    - path: "~/.claude/commands/gsd/"
      provides: "Command files copied by install.js"
  key_links:
    - from: "~/.claude/settings.json"
      to: "~/.claude/hooks/gsd-check-update.js"
      via: "SessionStart hook"
      pattern: "gsd-check-update"
---

<objective>
Simple manual verification that installation works identically to v1.x. Test that adapter.registerHook() correctly updates settings.json and existing command copying still works.

Purpose: Confirm minimal changes didn't break anything.
Output: Working installation verified by human.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plans
@.planning/phases/02-claude-code-adapter-backward-compatibility/02-01-SUMMARY.md
@.planning/phases/02-claude-code-adapter-backward-compatibility/02-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Ultra-minimal adapter implementation:
- ClaudeCodeAdapter with ONLY paths, config, and hooks (~120-150 lines)
- install.js calling adapter.registerHook() instead of manual settings.json editing
- All other install.js logic unchanged (commands, directories, cleanup, collision)
  </what-built>

  <how-to-verify>
**1. Build and install:**
```bash
npm run build
node bin/install.js --global
```

Expected: Installation completes without errors.

**2. Check settings.json has hooks:**
```bash
cat ~/.claude/settings.json | grep -A5 hooks
```

Expected:
- hooks.SessionStart array contains gsd-check-update.js
- hooks.StatusLine array contains gsd-statusline.js (if you didn't skip it)

**3. Check commands exist:**
```bash
ls ~/.claude/commands/gsd/ | head -5
```

Expected: Command files present (execute-phase.md, help.md, etc.)

**4. Test a command:**
```
/gsd:help
```

Expected: Help command works without errors.

**That's it.** Simple verification - installation works, hooks registered, commands work.
  </how-to-verify>

  <resume-signal>
Reply with:

**approved** - Installation works, hooks registered, commands execute

**issues: <description>** - Something broke
  </resume-signal>
</task>

</tasks>

<verification>
- [ ] Installation completes
- [ ] settings.json contains hooks
- [ ] Commands exist in ~/.claude/commands/gsd/
- [ ] Commands execute without errors
</verification>

<success_criteria>
- Installation succeeds
- settings.json has hooks array updated by adapter.registerHook()
- Commands work (copied by existing install.js logic)
- No behavior change from v1.x
</success_criteria>

<output>
After human approval, create `.planning/phases/02-claude-code-adapter-backward-compatibility/02-03-SUMMARY.md`
</output>
